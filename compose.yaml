services:
    frontend:
        build: ./frontend
        container_name: vite_frontend
        ports:
            - "3000:3000" # Serve frontend on localhost:3000
        env_file:
            - ./frontend/.env # Load environment variables from frontend .env file
        develop:
            watch:
                - action: sync
                  path: ./frontend/src
                  target: /app
                - action: rebuild
                  path: ./frontend/package.json

    backend:
        build: ./backend
        container_name: socket_backend
        ports:
            - "8000:8000" # Backend runs on port 8000
        env_file:
            - ./backend/.env # Load environment variables from backend .env file
        develop:
            watch:
                - action: sync
                  path: ./backend
                  target: /app
                - action: rebuild
                  path: ./backend/package.json
